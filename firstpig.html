<!DOCTYPE html>
<html lang="th">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>E-football insight - หน้าแรก</title>
    <style>
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f0f2f5;
        color: #333;
        line-height: 1.6;
      }
      .navbar {
        display: flex;
        align-items: center;
        background-color: #3498db;
        padding: 10px 20px;
        color: #fff;
        position: relative;
        justify-content: space-between;
      }
      .navbar .logo {
        font-size: 1.5rem;
        font-weight: 700;
      }
      .nav-menu {
        list-style: none;
        display: flex;
        gap: 20px;
        margin: 0;
        padding: 0;
      }
      .nav-menu li a {
        color: white;
        text-decoration: none;
        font-weight: 600;
        padding: 6px 12px;
        display: block;
      }
      .nav-menu li a:hover {
        background-color: #2980b9;
        border-radius: 5px;
      }
      .hamburger {
        display: none;
        font-size: 2rem;
        background: none;
        border: none;
        color: white;
        cursor: pointer;
      }
      @media (max-width: 768px) {
        .nav-menu {
          display: none;
          flex-direction: column;
          background-color: #3498db;
          width: 100%;
          position: absolute;
          top: 55px;
          left: 0;
          z-index: 10;
        }
        .nav-menu.active {
          display: flex;
        }
        .hamburger {
          display: block;
        }
      }

      /* ทีมเลือกโปรด */
      .container {
        max-width: 1200px;
        margin: 20px auto;
        padding: 0 20px;
      }
      h2,
      h3 {
        color: #2c3e50;
        text-align: center;
      }
      .team-selection-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));
        gap: 15px;
        margin-bottom: 20px;
      }
      .team-option {
        background: white;
        border: 1px solid #ddd;
        border-radius: 10px;
        padding: 10px 5px;
        text-align: center;
        box-shadow: 0 1px 4px rgb(0 0 0 / 0.1);
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      .team-option img {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        margin-bottom: 8px;
        border: 1px solid #eee;
      }
      .team-option button {
        margin-top: 5px;
        background-color: #27ae60;
        border: none;
        padding: 6px 12px;
        border-radius: 5px;
        color: white;
        font-weight: 600;
        cursor: pointer;
        transition: background-color 0.3s ease;
      }
      .team-option button:hover {
        background-color: #229a55;
      }

      .teams-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
      }
      .team-card {
        background: white;
        border-radius: 10px;
        box-shadow: 0 2px 6px rgb(0 0 0 / 0.1);
        padding: 15px 10px;
        text-align: center;
        position: relative;
      }
      .team-card .team-logo {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        margin-bottom: 10px;
        border: 2px solid #ddd;
      }
      .team-card button {
        position: absolute;
        top: 8px;
        right: 8px;
        border: none;
        background: #e74c3c;
        color: white;
        padding: 4px 7px;
        border-radius: 5px;
        cursor: pointer;
        font-weight: 700;
        font-size: 0.8rem;
        transition: background-color 0.3s ease;
      }
      .team-card button:hover {
        background: #c0392b;
      }
      .no-teams-message {
        font-style: italic;
        color: #999;
        margin-top: 10px;
        text-align: center;
      }

      /* ระบบล็อกอิน */
      .login-container {
        max-width: 400px;
        background: white;
        margin: 20px auto;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 1px 6px rgba(0, 0, 0, 0.1);
      }
      .login-container h2 {
        text-align: center;
        margin-bottom: 15px;
      }
      .login-container input[type="text"] {
        width: 100%;
        padding: 8px;
        font-size: 1rem;
        border-radius: 5px;
        border: 1px solid #ccc;
        margin-bottom: 15px;
      }
      .login-container button {
        width: 100%;
        padding: 10px;
        background-color: #3498db;
        border: none;
        border-radius: 5px;
        color: white;
        font-size: 1.1rem;
        cursor: pointer;
        transition: background-color 0.3s ease;
      }
      .login-container button:hover {
        background-color: #2980b9;
      }
      .welcome-message {
        text-align: center;
        margin-bottom: 15px;
        font-weight: 600;
        color: #27ae60;
      }

      /* แจ้งเตือนทีมโปรดแข่งวันนี้ */
      .today-match-alert {
        max-width: 400px;
        margin: 10px auto 30px;
        background: #fffae6;
        border: 1px solid #ffd633;
        padding: 15px;
        border-radius: 10px;
        color: #b37f00;
        font-weight: 600;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <header>
      <nav class="navbar">
        <div class="logo">E-football insight</div>
        <button class="hamburger" id="hamburger">&#9776;</button>
        <ul class="nav-menu" id="nav-menu">
          <li><a href="sec.html">รายการแข่งขัน</a></li>
          <li><a href="table.html">ผลการแข่งขัน</a></li>
          <li><a href="jojo.html">ตารางคะแนน</a></li>
          <li><a href="topscore.html">สถิตินักเตะ</a></li>
          <li><a href="mmm.html">เปรียบเทียบนักเตะ</a></li>
        </ul>
      </nav>
    </header>

    <main class="container">
      <section id="login-section">
        <div class="login-container" id="login-container">
          <h2>เข้าสู่ระบบ</h2>
          <input
            type="text"
            id="username-input"
            placeholder="กรอกชื่อผู้ใช้ของคุณ"
          />
          <button id="login-btn">เข้าสู่ระบบ</button>
        </div>
        <div
          class="login-container"
          id="welcome-container"
          style="display: none"
        >
          <p class="welcome-message" id="welcome-message"></p>
          <button id="logout-btn">ออกจากระบบ</button>
        </div>
      </section>

      <section id="alert-section" style="display: none">
        <div class="today-match-alert" id="today-match-alert"></div>
      </section>

      <section>
        <h2>เพิ่มทีมโปรดของคุณ - พรีเมียร์ลีก 2024/25</h2>
        <div id="team-options" class="team-selection-grid"></div>
      </section>

      <section>
        <h3>ทีมโปรดของคุณ</h3>
        <div id="favorite-teams-grid" class="teams-grid"></div>
        <p id="no-teams-msg" class="no-teams-message">ยังไม่มีทีมโปรด</p>
      </section>
    </main>

    <script>
      const hamburger = document.getElementById("hamburger");
      const navMenu = document.getElementById("nav-menu");
      hamburger.addEventListener("click", () => {
        navMenu.classList.toggle("active");
      });

      // ข้อมูลทีมพรีเมียร์ลีก
      const premierLeagueTeams = [
        {
          id: 1,
          name: "Arsenal",
          logo: "https://crests.football-data.org/57.svg",
        },
        {
          id: 2,
          name: "Aston Villa",
          logo: "https://crests.football-data.org/58.svg",
        },
        {
          id: 3,
          name: "Bournemouth",
          logo: "https://crests.football-data.org/106.svg",
        },
        {
          id: 4,
          name: "Brentford",
          logo: "https://crests.football-data.org/402.svg",
        },
        {
          id: 5,
          name: "Brighton",
          logo: "https://crests.football-data.org/397.svg",
        },
        {
          id: 6,
          name: "Chelsea",
          logo: "https://crests.football-data.org/61.svg",
        },
        {
          id: 7,
          name: "Crystal Palace",
          logo: "https://crests.football-data.org/354.svg",
        },
        {
          id: 8,
          name: "Everton",
          logo: "https://crests.football-data.org/62.svg",
        },
        {
          id: 9,
          name: "Fulham",
          logo: "https://crests.football-data.org/63.svg",
        },
        {
          id: 10,
          name: "Liverpool",
          logo: "https://crests.football-data.org/64.svg",
        },
        {
          id: 11,
          name: "Luton Town",
          logo: "https://crests.football-data.org/389.svg",
        },
        {
          id: 12,
          name: "Manchester City",
          logo: "https://crests.football-data.org/65.svg",
        },
        {
          id: 13,
          name: "Manchester United",
          logo: "https://crests.football-data.org/66.svg",
        },
        {
          id: 14,
          name: "Newcastle United",
          logo: "https://crests.football-data.org/67.svg",
        },
        {
          id: 15,
          name: "Nottingham Forest",
          logo: "https://crests.football-data.org/104.svg",
        },
        {
          id: 16,
          name: "Sheffield United",
          logo: "https://crests.football-data.org/356.svg",
        },
        {
          id: 17,
          name: "Tottenham Hotspur",
          logo: "https://crests.football-data.org/73.svg",
        },
        {
          id: 18,
          name: "West Ham United",
          logo: "https://crests.football-data.org/563.svg",
        },
        {
          id: 19,
          name: "Wolverhampton Wanderers",
          logo: "https://crests.football-data.org/76.svg",
        },
        {
          id: 20,
          name: "Ipswich Town",
          logo: "https://crests.football-data.org/387.svg",
        },
      ];

      // ข้อมูลโปรแกรมแข่งขันตัวอย่าง (วันนี้คือ 19 ส.ค. 2024)
      const today = "19-08-2024";

      // ตัวอย่างข้อมูลนัดแข่งขัน (ใช้วันที่ใน format dd-mm-yyyy)
      // ในสถานการณ์จริง อาจใช้ API หรือฐานข้อมูลแทน
      const fixtures = [
        {
          date: "18-08-2024",
          home: "Brentford",
          away: "Crystal Palace",
          time: "14:00",
        },
        {
          date: "19-08-2024",
          home: "Leicester City",
          away: "Tottenham Hotspur",
          time: "20:00",
        },
        {
          date: "19-08-2024",
          home: "Chelsea",
          away: "Manchester City",
          time: "16:30",
        },
        // ... เพิ่มข้อมูลอื่น ๆ ตามต้องการ
      ];

      const teamOptionsDiv = document.getElementById("team-options");
      const favoriteTeamsGrid = document.getElementById("favorite-teams-grid");
      const noTeamsMsg = document.getElementById("no-teams-msg");

      // ระบบล็อกอิน
      const loginContainer = document.getElementById("login-container");
      const welcomeContainer = document.getElementById("welcome-container");
      const usernameInput = document.getElementById("username-input");
      const loginBtn = document.getElementById("login-btn");
      const logoutBtn = document.getElementById("logout-btn");
      const welcomeMessage = document.getElementById("welcome-message");
      const alertSection = document.getElementById("alert-section");
      const todayMatchAlert = document.getElementById("today-match-alert");

      let favoriteTeams = [];
      let username = null;

      // ฟังก์ชันแสดงปุ่มเลือกทีม
      function renderTeamOptions() {
        teamOptionsDiv.innerHTML = "";
        premierLeagueTeams.forEach((team) => {
          const div = document.createElement("div");
          div.className = "team-option";
          div.innerHTML = `
            <img src="${team.logo}" alt="${team.name} โลโก้" />
            <span>${team.name}</span>
            <button onclick="addFavoriteTeam(${team.id})">เพิ่ม</button>
          `;
          teamOptionsDiv.appendChild(div);
        });
      }

      // ฟังก์ชันแสดงทีมโปรด
      function renderFavoriteTeams() {
        favoriteTeamsGrid.innerHTML = "";
        if (favoriteTeams.length === 0) {
          noTeamsMsg.style.display = "block";
          return;
        }
        noTeamsMsg.style.display = "none";

        favoriteTeams.forEach((team) => {
          const div = document.createElement("div");
          div.className = "team-card";
          div.innerHTML = `
            <img class="team-logo" src="${team.logo}" alt="${team.name} โลโก้" />
            <h4>${team.name}</h4>
            <button onclick="removeFavoriteTeam(${team.id})">ลบ</button>
          `;
          favoriteTeamsGrid.appendChild(div);
        });
      }

      // เพิ่มทีมโปรด
      function addFavoriteTeam(id) {
        if (!username) {
          alert("กรุณาเข้าสู่ระบบก่อนเพิ่มทีมโปรด");
          return;
        }
        if (favoriteTeams.find((t) => t.id === id)) {
          alert("ทีมนี้ถูกเพิ่มแล้ว");
          return;
        }
        const team = premierLeagueTeams.find((t) => t.id === id);
        if (team) {
          favoriteTeams.push(team);
          saveFavoriteTeams();
          renderFavoriteTeams();
          checkTodayMatches();
        }
      }

      // ลบทีมโปรด
      function removeFavoriteTeam(id) {
        favoriteTeams = favoriteTeams.filter((t) => t.id !== id);
        saveFavoriteTeams();
        renderFavoriteTeams();
        checkTodayMatches();
      }

      // บันทึกทีมโปรดลง localStorage (แยกตาม username)
      function saveFavoriteTeams() {
        if (!username) return;
        localStorage.setItem(
          `favoriteTeams_${username}`,
          JSON.stringify(favoriteTeams)
        );
      }

      // โหลดทีมโปรดจาก localStorage (แยกตาม username)
      function loadFavoriteTeams() {
        if (!username) return;
        const saved = localStorage.getItem(`favoriteTeams_${username}`);
        favoriteTeams = saved ? JSON.parse(saved) : [];
      }

      // เข้าสู่ระบบ
      function login() {
        const name = usernameInput.value.trim();
        if (!name) {
          alert("กรุณากรอกชื่อผู้ใช้");
          return;
        }
        username = name;
        localStorage.setItem("username", username);
        loginContainer.style.display = "none";
        welcomeContainer.style.display = "block";
        welcomeMessage.textContent = `สวัสดี, ${username}!`;
        loadFavoriteTeams();
        renderFavoriteTeams();
        checkTodayMatches();
      }

      // ออกจากระบบ
      function logout() {
        username = null;
        favoriteTeams = [];
        localStorage.removeItem("username");
        loginContainer.style.display = "block";
        welcomeContainer.style.display = "none";
        favoriteTeamsGrid.innerHTML = "";
        noTeamsMsg.style.display = "block";
        alertSection.style.display = "none";
      }

      // ตรวจสอบว่ามีทีมโปรดแข่งวันนี้ไหม แล้วแจ้งเตือน
      function checkTodayMatches() {
        if (!username || favoriteTeams.length === 0) {
          alertSection.style.display = "none";
          return;
        }
        // หาแมตช์ที่มีทีมโปรดแข่งวันนี้
        const todayMatches = fixtures.filter((fx) => fx.date === today);
        const matchedTeams = [];

        todayMatches.forEach((match) => {
          if (favoriteTeams.find((t) => t.name === match.home))
            matchedTeams.push(
              `${match.home} vs ${match.away} เวลา ${match.time}`
            );
          else if (favoriteTeams.find((t) => t.name === match.away))
            matchedTeams.push(
              `${match.home} vs ${match.away} เวลา ${match.time}`
            );
        });

        if (matchedTeams.length > 0) {
          alertSection.style.display = "block";
          todayMatchAlert.innerHTML = `วันนี้ทีมโปรดของคุณแข่ง:<br>${matchedTeams.join(
            "<br>"
          )}`;
        } else {
          alertSection.style.display = "none";
        }
      }

      // โหลดข้อมูลเมื่อเริ่มต้น
      window.addEventListener("DOMContentLoaded", () => {
        username = localStorage.getItem("username");
        if (username) {
          loginContainer.style.display = "none";
          welcomeContainer.style.display = "block";
          welcomeMessage.textContent = `สวัสดี, ${username}!`;
          loadFavoriteTeams();
          renderFavoriteTeams();
          checkTodayMatches();
        } else {
          loginContainer.style.display = "block";
          welcomeContainer.style.display = "none";
        }
        renderTeamOptions();
      });

      loginBtn.addEventListener("click", login);
      logoutBtn.addEventListener("click", logout);
    </script>
  </body>
</html>
